<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clicker</title>
</head>

<body>
    <div class="container"
        style="border-style: dashed; border-color: orange; position: relative; width: 40%; left: 30%; top: 50px; height: 800px;">
        <h1 style="left: 100px;position: relative; left: 14%; font-family: cursive; font-size: 500%;">Clicker Game!</h1>
        <h3 style="position: relative; left: 1%; font-family: cursive;">Welcome to the clicker game, this is a game
            where you click. Dw, it saves automatically, I think...</h3>
        <input type="button" value="Click" id="clicker"
            style="width: 20%; position: relative; left: 40%; height: 20%;font-family: cursive;font-size: xx-large; border-radius: 50px;">
        <input type="button" value="Easure all clicks" id="eac"
            style="width: 50%; position: relative; left: 5%; height: 10%;font-family: cursive;font-size: xx-large; border-radius: 50px;top: 20%">
        <h1 id="h1"
            style="left: 100px;position: relative; left: 1%; font-family: cursive; font-size: 250%; text-align: center; z-index: 10; top: 20%;">
        </h1>
    </div>
</body>

</html>

<script>
    var clicker = document.getElementById("clicker")
    var clicks = 0
    var clickstext = document.getElementById("h1")
    var erase = document.getElementById("eac")

    function getcookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    function savecookies(cname, value) {
        document.cookie = `${cname}=${value}`
    }

    clicks = Number(getcookie("clicks"))
    clickstext.innerHTML = `Your clicks: ${Number(getcookie("clicks"))}`

    clicker.addEventListener("click", () => {
        clicks += 1
        console.log(clicks)
        clickstext.innerHTML = `Your clicks: ${clicks}`
        console.log(`cookie: ${getcookie("clicks")}`)
        savecookies("clicks",clicks)
    })

    erase.addEventListener("click", () => {
        savecookies("clicks",0)
        document.location = "http://127.0.0.1:5500/projects/clicker/index.html"
    })
</script>
